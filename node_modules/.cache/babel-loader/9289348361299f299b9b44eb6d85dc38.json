{"ast":null,"code":"import _defineProperty from\"/mnt/C8EE989BEE98837C/Django Projects/react-first/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/mnt/C8EE989BEE98837C/Django Projects/react-first/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/mnt/C8EE989BEE98837C/Django Projects/react-first/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/mnt/C8EE989BEE98837C/Django Projects/react-first/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/mnt/C8EE989BEE98837C/Django Projects/react-first/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{Component}from\"react\";import\"../../../node_modules/bootstrap/dist/css/bootstrap.min.css\";import className from\"../../../node_modules/classnames\";import Footer from\"./Footer\";import Nav from\"./Nav\";var Register=/*#__PURE__*/function(_Component){_inherits(Register,_Component);var _super=_createSuper(Register);function Register(){var _this;_classCallCheck(this,Register);_this=_super.call(this);_this.onChangeHandler=function(event){var inputName=event.target.name;var inputValue=event.target.value;_this.setState(_defineProperty({},inputName,inputValue));if(inputName===\"email\"){if(!_this.emailValidation(inputValue)){_this.setState({emailMgs:\"* Invalid Email\",emailError:false});}else{_this.setState({emailMgs:\"\",emailError:true});}}if(inputName===\"password\"){if(!_this.passwordValidation(inputValue)){_this.setState({passwordMgs:\"* minimum 6 character at least one number and  one special character\",passwordError:false});}else{_this.setState({passwordMgs:\"\",passwordError:true});}}if(inputName===\"confirm_pass\"){if(inputValue!==_this.state.password){console.log(_this.state.password,inputValue);_this.setState({confirm_passMgs:\"* Password not matched\",confirm_passError:false});}else{_this.setState({confirm_passMgs:\"\",confirm_passError:true});}}if(inputName===\"first_name\"){if(!_this.nameValidation(inputValue)){_this.setState({first_nameMgs:\"* Invalid name ( Name only contains A-Z and a-z)\",first_nameError:false});}else{_this.setState({first_nameMgs:\"\",first_nameError:true});}}if(inputName===\"last_name\"){if(!_this.nameValidation(inputValue)){_this.setState({last_nameMgs:\"* Invalid name ( Name only contains A-Z and a-z)\",last_nameError:false});}else{_this.setState({last_nameMgs:\"\",last_nameError:true});}}};_this.state={first_name:null,last_name:null,email:null,password:null,confirm_pass:null,first_nameMgs:\"\",last_nameMgs:\"\",emailMgs:\"\",passwordMgs:\"\",confirm_passMgs:\"\",first_nameError:\"\",last_nameError:\"\",emailError:\"\",passwordError:\"\",confirm_passError:\"\"};return _this;}_createClass(Register,[{key:\"componentDidMount\",value:function componentDidMount(){var user=localStorage.getItem(\"login\");// your saved token in localstorage\nif(user&&user!==\"undefined\"){// check for not undefined\nthis.props.history.push(\"/\");// now you can redirect your desired route\n}}},{key:\"registerButtonPressed\",value:function registerButtonPressed(){if(this.state.first_nameError&&this.state.last_nameError&&this.state.emailError&&this.state.passwordError&&this.state.confirm_passError){this.register();}}},{key:\"emailValidation\",value:function emailValidation(email){var re=/^\\w+@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$/;return re.test(String(email).toLowerCase());}},{key:\"nameValidation\",value:function nameValidation(name){var regex=/^[a-zA-Z ]{2,30}$/;return regex.test(String(name));}},{key:\"passwordValidation\",value:function passwordValidation(pass){var re=/^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{6,16}$/;return re.test(String(pass));}},{key:\"register\",value:function register(){var myHeaders=new Headers();myHeaders.append(\"Content-Type\",\"application/x-www-form-urlencoded\");var urlencoded=new URLSearchParams();urlencoded.append(\"first_name\",this.state.first_name);urlencoded.append(\"last_name\",this.state.last_name);urlencoded.append(\"email\",this.state.email);urlencoded.append(\"password\",this.state.password);var requestOptions={method:\"POST\",headers:myHeaders,body:urlencoded,redirect:\"follow\"};fetch(\"http://127.0.0.1:8000/api/auth/register/\",requestOptions).then(function(response){return response.json();}).then(function(result){if(result.first_name&&result.last_name&&result.email){alert(\"Registration Success\");}else{alert(\"Registration Failed\");}}).catch(function(error){return console.log(\"error\",error);});}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Nav,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"container all-margin-top text-left minimum-height\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"mt-4 mb-3\",children:[\"Register\",/*#__PURE__*/_jsx(\"small\",{children:\" Form\"})]}),/*#__PURE__*/_jsx(\"ol\",{className:\"breadcrumb\",children:/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item active\",children:\"Register\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-4 mb-4\",children:/*#__PURE__*/_jsxs(\"form\",{name:\"sentMessage\",id:\"contactForm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"control-group form-group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"controls\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"First Name*\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:className(\"form-control\",!this.state.first_nameError&&\"is-invalid\"),id:\"first_name\",name:\"first_name\",required:true,\"data-validation-required-message\":\"Please enter your first name.\",onChange:this.onChangeHandler}),/*#__PURE__*/_jsx(\"small\",{className:\"invalid_input\",children:this.state.first_nameMgs})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"controls\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Last Name*\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:className(\"form-control\",!this.state.last_nameError&&\"is-invalid\"),id:\"last_name\",name:\"last_name\",required:true,\"data-validation-required-message\":\"Please enter your last name.\",onChange:this.onChangeHandler}),/*#__PURE__*/_jsx(\"small\",{className:\"invalid_input\",children:this.state.last_nameMgs})]}),/*#__PURE__*/_jsx(\"div\",{className:\"control-group form-group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"controls\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email*\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:className(\"form-control\",!this.state.emailError&&\"is-invalid\"),id:\"email\",name:\"email\",required:true,\"data-validation-required-message\":\"Please enter your email.\",onChange:this.onChangeHandler}),/*#__PURE__*/_jsx(\"small\",{className:\"invalid_input\",children:this.state.emailMgs})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"control-group form-group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"controls\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password*\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:className(\"form-control\",!this.state.passwordError&&\"is-invalid\"),id:\"password\",name:\"password\",onChange:this.onChangeHandler}),/*#__PURE__*/_jsx(\"small\",{className:\"invalid_input\",children:this.state.passwordMgs})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"control-group form-group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"controls\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Confirm Password*\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:className(\"form-control\",!this.state.confirm_passError&&\"is-invalid\"),name:\"confirm_pass\",id:\"confirm_pass\",onChange:this.onChangeHandler}),/*#__PURE__*/_jsx(\"small\",{className:\"invalid_input\",children:this.state.confirm_passMgs})]})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){_this2.registerButtonPressed();},className:\"btn btn-primary\",id:\"login-btn\",children:\"Register\"})]})})})]}),/*#__PURE__*/_jsx(Footer,{})]});}}]);return Register;}(Component);export default Register;","map":{"version":3,"sources":["/mnt/C8EE989BEE98837C/Django Projects/react-first/my-app/src/mycomponents/Register.js"],"names":["React","Component","className","Footer","Nav","Register","onChangeHandler","event","inputName","target","name","inputValue","value","setState","emailValidation","emailMgs","emailError","passwordValidation","passwordMgs","passwordError","state","password","console","log","confirm_passMgs","confirm_passError","nameValidation","first_nameMgs","first_nameError","last_nameMgs","last_nameError","first_name","last_name","email","confirm_pass","user","localStorage","getItem","props","history","push","register","re","test","String","toLowerCase","regex","pass","myHeaders","Headers","append","urlencoded","URLSearchParams","requestOptions","method","headers","body","redirect","fetch","then","response","json","result","alert","catch","error","registerButtonPressed"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"../../../node_modules/bootstrap/dist/css/bootstrap.min.css\";\nimport className from \"../../../node_modules/classnames\";\nimport Footer from \"./Footer\";\nimport Nav from \"./Nav\";\nclass Register extends Component {\n  constructor() {\n    super();\n    this.state = {\n      first_name: null,\n      last_name: null,\n      email: null,\n      password: null,\n      confirm_pass: null,\n      first_nameMgs: \"\",\n      last_nameMgs: \"\",\n      emailMgs: \"\",\n      passwordMgs: \"\",\n      confirm_passMgs: \"\",\n      first_nameError: \"\",\n      last_nameError: \"\",\n      emailError: \"\",\n      passwordError: \"\",\n      confirm_passError: \"\",\n      \n    };\n  }\n  componentDidMount() {\n    const user = localStorage.getItem(\"login\"); // your saved token in localstorage\n    if (user && user !== \"undefined\") {\n      // check for not undefined\n      this.props.history.push(\"/\"); // now you can redirect your desired route\n    }\n  }\n  registerButtonPressed() {\n    if (\n      this.state.first_nameError &&\n      this.state.last_nameError &&\n      this.state.emailError &&\n      this.state.passwordError &&\n      this.state.confirm_passError\n    ) {\n      this.register();\n    }\n  }\n  onChangeHandler = (event) => {\n    var inputName = event.target.name;\n    var inputValue = event.target.value;\n    this.setState({\n      [inputName]: inputValue,\n    });\n    if (inputName === \"email\") {\n      if (!this.emailValidation(inputValue)) {\n        this.setState({\n          emailMgs: \"* Invalid Email\",\n          emailError: false,\n        });\n      } else {\n        this.setState({\n          emailMgs: \"\",\n          emailError: true,\n        });\n      }\n    }\n\n    if (inputName === \"password\") {\n      if (!this.passwordValidation(inputValue)) {\n        this.setState({\n          passwordMgs:\n            \"* minimum 6 character at least one number and  one special character\",\n          passwordError: false,\n        });\n      } else {\n        this.setState({\n          passwordMgs: \"\",\n          passwordError: true,\n        });\n      }\n    }\n    if (inputName === \"confirm_pass\") {\n      if (inputValue !== this.state.password) {\n        console.log(this.state.password, inputValue);\n        this.setState({\n          confirm_passMgs: \"* Password not matched\",\n          confirm_passError: false,\n        });\n      } else {\n        this.setState({\n          confirm_passMgs: \"\",\n          confirm_passError: true,\n        });\n      }\n    }\n    if (inputName === \"first_name\") {\n      if (!this.nameValidation(inputValue)) {\n        this.setState({\n          first_nameMgs: \"* Invalid name ( Name only contains A-Z and a-z)\",\n          first_nameError: false,\n        });\n      } else {\n        this.setState({\n          first_nameMgs: \"\",\n          first_nameError: true,\n        });\n      }\n    }\n    if (inputName === \"last_name\") {\n      if (!this.nameValidation(inputValue)) {\n        this.setState({\n          last_nameMgs: \"* Invalid name ( Name only contains A-Z and a-z)\",\n          last_nameError: false,\n        });\n      } else {\n        this.setState({\n          last_nameMgs: \"\",\n          last_nameError: true,\n        });\n      }\n    }\n  };\n  emailValidation(email) {\n    const re = /^\\w+@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$/;\n    return re.test(String(email).toLowerCase());\n  }\n  nameValidation(name) {\n    var regex = /^[a-zA-Z ]{2,30}$/;\n    return regex.test(String(name));\n  }\n  passwordValidation(pass) {\n    var re = /^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{6,16}$/;\n    return re.test(String(pass));\n  }\n  register() {\n    var myHeaders = new Headers();\n    myHeaders.append(\"Content-Type\", \"application/x-www-form-urlencoded\");\n\n    var urlencoded = new URLSearchParams();\n    urlencoded.append(\"first_name\", this.state.first_name);\n    urlencoded.append(\"last_name\", this.state.last_name);\n    urlencoded.append(\"email\", this.state.email);\n    urlencoded.append(\"password\", this.state.password);\n\n    var requestOptions = {\n      method: \"POST\",\n      headers: myHeaders,\n      body: urlencoded,\n      redirect: \"follow\",\n    };\n\n    fetch(\"http://127.0.0.1:8000/api/auth/register/\", requestOptions)\n      .then((response) => response.json())\n      .then((result) => {\n        if (result.first_name && result.last_name && result.email) {\n          alert(\"Registration Success\")\n          \n        }\n        else\n        {\n          alert(\"Registration Failed\")\n        }\n      })\n      .catch((error) => console.log(\"error\", error));\n  }\n  render() {\n    return (\n      <div>\n        <Nav />\n        <div className=\"container all-margin-top text-left minimum-height\">\n          <h1 className=\"mt-4 mb-3\">\n            Register\n            <small> Form</small>\n          </h1>\n          <ol className=\"breadcrumb\">\n            <li className=\"breadcrumb-item active\">Register</li>\n          </ol>\n\n          <div className=\"row\">\n            <div className=\"col-lg-4 mb-4\">\n              \n              <form name=\"sentMessage\" id=\"contactForm\">\n                <div className=\"control-group form-group\">\n                  <div className=\"controls\">\n                    <label>First Name*</label>\n                    <input\n                      type=\"text\"\n                      className={className(\n                        \"form-control\",\n                        !this.state.first_nameError && \"is-invalid\"\n                      )}\n                      id=\"first_name\"\n                      name=\"first_name\"\n                      required\n                      data-validation-required-message=\"Please enter your first name.\"\n                      onChange={this.onChangeHandler}\n                    ></input>\n                    <small className=\"invalid_input\">\n                      {this.state.first_nameMgs}\n                    </small>\n                  </div>\n                </div>\n                <div className=\"controls\">\n                  <label>Last Name*</label>\n                  <input\n                    type=\"text\"\n                    className={className(\n                      \"form-control\",\n                      !this.state.last_nameError && \"is-invalid\"\n                    )}\n                    id=\"last_name\"\n                    name=\"last_name\"\n                    required\n                    data-validation-required-message=\"Please enter your last name.\"\n                    onChange={this.onChangeHandler}\n                  ></input>\n                  <small className=\"invalid_input\">\n                    {this.state.last_nameMgs}\n                  </small>\n                </div>\n                <div className=\"control-group form-group\">\n                  <div className=\"controls\">\n                    <label>Email*</label>\n                    <input\n                      type=\"email\"\n                      className={className(\n                        \"form-control\",\n                        !this.state.emailError && \"is-invalid\"\n                      )}\n                      id=\"email\"\n                      name=\"email\"\n                      required\n                      data-validation-required-message=\"Please enter your email.\"\n                      onChange={this.onChangeHandler}\n                    ></input>\n                    <small className=\"invalid_input\">\n                      {this.state.emailMgs}\n                    </small>\n                  </div>\n                </div>\n                <div className=\"control-group form-group\">\n                  <div className=\"controls\">\n                    <label>Password*</label>\n                    <input\n                      type=\"password\"\n                      className={className(\n                        \"form-control\",\n                        !this.state.passwordError && \"is-invalid\"\n                      )}\n                      id=\"password\"\n                      name=\"password\"\n                      onChange={this.onChangeHandler}\n                    ></input>\n                    <small className=\"invalid_input\">\n                      {this.state.passwordMgs}\n                    </small>\n                  </div>\n                </div>\n                <div className=\"control-group form-group\">\n                  <div className=\"controls\">\n                    <label>Confirm Password*</label>\n                    <input\n                      type=\"password\"\n                      className={className(\n                        \"form-control\",\n                        !this.state.confirm_passError && \"is-invalid\"\n                      )}\n                      name=\"confirm_pass\"\n                      id=\"confirm_pass\"\n                      onChange={this.onChangeHandler}\n                    ></input>\n                    <small className=\"invalid_input\">\n                      {this.state.confirm_passMgs}\n                    </small>\n                  </div>\n                </div>\n\n                <button\n                  type=\"button\"\n                  onClick={() => {\n                    this.registerButtonPressed();\n                  }}\n                  className=\"btn btn-primary\"\n                  id=\"login-btn\"\n                >\n                  Register\n                </button>\n              </form>\n            </div>\n          </div>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n}\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}