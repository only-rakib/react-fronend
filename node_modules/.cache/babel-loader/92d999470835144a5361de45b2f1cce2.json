{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/mnt/C8EE989BEE98837C/Django Projects/django with react/react_frontend/my-app/src/mycomponents/Login.js\";\nimport React, { Component } from \"react\";\nimport \"../../../node_modules/bootstrap/dist/css/bootstrap.min.css\";\nimport axios from \"axios\";\n\nclass Login extends Component {\n  constructor(prop) {\n    super(prop);\n    this.state = {\n      email: null,\n      password: null,\n      login: false,\n      store: null\n    };\n  }\n\n  login() {\n    /*let data = new FormData(); // creates a new FormData object\n    data.append('email', this.state.email);\n    data.append('password', this.state.password);\n    const headers = {\n      \"Access-Control-Allow-Origin\": \"*\",\n      \n      \"Content-Type\": \"application/json\",\n      \n    }\n    console.log(this.state.email, this.state.password);\n    axios.post(\"http://127.0.0.1:8000/api/token\",data,{\n      headers: headers\n    })\n    .then(function (response) {\n      console.log(response);\n    })\n    .catch(function (error) {\n      console.log(error);\n    });*/\n    fetch(\"http://127.0.0.1:8000/api/token/\", {\n      method: \"POST\",\n      header: {\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Credentials\": \"true\",\n        \"Content-Type\": \"application/json\",\n        'Accept': 'application/json'\n      },\n      body: JSON.stringify({\n        email: this.state.email,\n        password: this.state.password\n      })\n    }).then(response => {\n      response.json().then(result => {\n        console.warn(\"result\", result);\n        localStorage.setItem(\"login\", JSON.stringify({\n          login: true,\n          store: result.token\n        }));\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container all-margin-top minimum-height\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"mt-5 mb-3 text-left\",\n        children: [\"Login\", /*#__PURE__*/_jsxDEV(\"small\", {\n          children: \" Form\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n        className: \"breadcrumb\",\n        children: /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"breadcrumb-item active\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-4 mb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            name: \"sentMessage\",\n            id: \"contactForm\",\n            className: \"text-left\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"control-group form-group\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"controls\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Email*\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 80,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"email\",\n                  className: \"form-control\",\n                  id: \"email\",\n                  onChange: event => {\n                    this.setState({\n                      email: event.target.value\n                    });\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"help-block\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"control-group form-group\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"controls\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Password*\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"password\",\n                  className: \"form-control\",\n                  id: \"password\",\n                  onChange: event => {\n                    this.setState({\n                      password: event.target.value\n                    });\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 95,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"success\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => {\n                this.login();\n              },\n              className: \"btn btn-primary\",\n              id: \"login-btn\",\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/mnt/C8EE989BEE98837C/Django Projects/django with react/react_frontend/my-app/src/mycomponents/Login.js"],"names":["React","Component","axios","Login","constructor","prop","state","email","password","login","store","fetch","method","header","body","JSON","stringify","then","response","json","result","console","warn","localStorage","setItem","token","render","event","setState","target","value"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"../../../node_modules/bootstrap/dist/css/bootstrap.min.css\";\nimport axios from \"axios\";\nclass Login extends Component {\n  constructor(prop) {\n    super(prop);\n    this.state = {\n      email: null,\n      password: null,\n      login: false,\n      store: null,\n    };\n  }\n\n  login() {\n    /*let data = new FormData(); // creates a new FormData object\n    data.append('email', this.state.email);\n    data.append('password', this.state.password);\n    const headers = {\n      \"Access-Control-Allow-Origin\": \"*\",\n      \n      \"Content-Type\": \"application/json\",\n      \n    }\n    console.log(this.state.email, this.state.password);\n    axios.post(\"http://127.0.0.1:8000/api/token\",data,{\n      headers: headers\n    })\n    .then(function (response) {\n      console.log(response);\n    })\n    .catch(function (error) {\n      console.log(error);\n    });*/\n\n    fetch(\"http://127.0.0.1:8000/api/token/\", {\n      method: \"POST\",\n      header: {\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Credentials\": \"true\",\n        \"Content-Type\": \"application/json\",\n        'Accept': 'application/json',\n        \n      },\n      body:JSON.stringify( {\n        email:this.state.email,\n        password:this.state.password,\n      }),\n      \n    }).then((response) => {\n      response.json().then((result) => {\n        console.warn(\"result\", result);\n        localStorage.setItem(\n          \"login\",\n          JSON.stringify({\n            login: true,\n            store: result.token,\n          })\n        );\n      });\n    });\n  }\n  render() {\n    return (\n      <div className=\"container all-margin-top minimum-height\">\n        <div className=\"mt-5\"></div>\n        <h1 className=\"mt-5 mb-3 text-left\">\n          Login\n          <small> Form</small>\n        </h1>\n        <ol className=\"breadcrumb\">\n          <li className=\"breadcrumb-item active\">Login</li>\n        </ol>\n\n        <div className=\"row\">\n          <div className=\"col-lg-4 mb-4\">\n            <form name=\"sentMessage\" id=\"contactForm\" className=\"text-left\">\n              <div className=\"control-group form-group\">\n                <div className=\"controls\">\n                  <label>Email*</label>\n                  <input\n                    type=\"email\"\n                    className=\"form-control\"\n                    id=\"email\"\n                    onChange={(event) => {\n                      this.setState({ email: event.target.value });\n                    }}\n                  ></input>\n                  <p className=\"help-block\"></p>\n                </div>\n              </div>\n              <div className=\"control-group form-group\">\n                <div className=\"controls\">\n                  <label>Password*</label>\n                  <input\n                    type=\"password\"\n                    className=\"form-control\"\n                    id=\"password\"\n                    onChange={(event) => {\n                      this.setState({ password: event.target.value });\n                    }}\n                  ></input>\n                </div>\n              </div>\n              <div id=\"success\"></div>\n\n              <button\n                type=\"button\"\n                onClick={() => {\n                  this.login();\n                }}\n                className=\"btn btn-primary\"\n                id=\"login-btn\"\n              >\n                Login\n              </button>\n            </form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}